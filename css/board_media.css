/* Intitial board media styles */

@media (max-width: 1320px) {
    .kanban__header,
    .kanban__grid-wrapper {
        padding-left: 60px;
        padding-right: 60px;
    }
}

@media (max-width: 1280px) {
    .kanban__header,
    .kanban__grid-wrapper {
        padding-left:  40px;
        padding-right: 40px;
    }
}

@media (max-width: 1230px) {
    .card__subtasks {
        flex-direction: column;
        align-items: start;
    }

    .card__content {
        gap: 10px;
    }

    .kanban__subtitle {
        height: 56px;
    }
}

@media (max-width: 1100px) {
  
    
    .kanban__headline {
        flex-direction: column;
        align-items: start;
        gap: 32px;
        padding-top: 40px;
        padding-bottom: 40px;
    }

    .kanban__tools {
        width: 100%;
        justify-content: space-between;
        align-items: start;
        gap: 16px;
    }
    
    .kanban__header,
    .kanban__grid-wrapper {
        padding: 0 20px;
        gap: 20px;
    }

    .card__footer {
        flex-direction: column;
        align-items: start;
        gap: 10px;
    }

    .kanban__columns {
        gap: 20px;
    }

    .card {
        margin: 0 0 4px;
    }
}

@media (max-width: 980px) {
   
    
    .card__subtasks-bar {
        width: 100%;
    }

    .card__credential {
        width: 28px;
        height: 28px;
        font-size: 8px
    }

    .kanban__tools {
        align-items: center;
    }

    .kanban__subtitle-text {
        font-size: 20px;
    }

    .card__badge-technical-task,
    .card__badge-user-story,
    .card__header--title,
    .card__header--description {
        font-size: 14px;
   } 

   .kanban__grid-wrapper {
        gap: 16px;
    }

    .kanban__section {
        gap: 4px;
    }

    .kanban__subtitle {
        font-size: 18px;
    }

   .card__content {
        gap: 8px;
    }

    .card__header {
        gap: 4px;
    }

    .card__header-title {
        font-size: 14px;
    }

    .card__header--description {
        font-size: 12px;
    }

    .card__subtasks-bar {
        height: 6px;
    }

    .kanban__title {
        font-size: 48px;
    }

    .kanban__search-input {
        max-width: 120px;
        font-size: 16px;
    }

    .kanban__search-wrapper {
        width: 260px
    }

    .kanban__add-button {
        max-width: 40px;
        height: 40px;
        padding: 8px; 
    }

    .kanban__add-text {
        display: none;
    }

    .kanban-add-icon {
        width: 20px;
        height: 20px;
    }

    .kanban__columns {
        gap: 16px;
    }

    .card {
       padding: 12px;
    }
}

@media (max-width: 700px) {
    
    
    .kanban__title {
        font-size: 48px;
        width: 100%;
        max-width: 100%;
        margin: 20px 0;
    }

     /* Tools Container für mobile optimieren */
    .kanban__tools {
        flex-direction: row;
        width: 100%;
        gap: 24px;
        align-items: center;
        
    }

    /* Search Wrapper auf volle Breite */
    .kanban__search-wrapper {
        width: 100%;
        max-width: none;
        min-width: 0;
    }

    .kanban__search-input {
        flex: 1;
        max-width: none;
         min-width: 0;
    }
}
 

@media (max-width: 556px) {
    /* Kanban Grid Layout - Vertikal scrollbar */
    .kanban__grid-wrapper {
        position: static;
        grid-template-columns: 1fr;
        padding: 0 12px 16px 12px;
        width: 100%;
        height: auto; /* Wichtig: auto statt feste Höhe */
        overflow-y: auto; /* Vertikales Scrollen ermöglichen */
        overflow-x: hidden;
        margin-bottom: 72px; /* Abstand zum unteren Rand */
    }

    /* Kanban Section - Jede Spalte wird zu einer Reihe */
    .kanban__section {
        gap: 8px;
        min-height: 240px;
        width: 100%;
        margin-bottom: 24px; /* Abstand zwischen Sections */
    }

    .kanban__headline {
        gap: 0px;
    
    }

    /* Kanban Column - Horizontales Scrollen */
    .kanban__column {
        display: flex;    
        flex-direction: row;
        gap: 16px;
        overflow-x: auto; /* Horizontales Scrollen aktivieren */
        overflow-y: auto;
        padding-bottom: 8px; /* Platz für versteckte Scrollbar */
        -webkit-overflow-scrolling: touch; /* Smooth scrolling auf iOS */
        max-width: 100vw;
    }

    /* Scrollbar ausblenden */

    .kanban__grid-wrapper::-webkit-scrollbar,
    .kanban__column::-webkit-scrollbar,
    .overlay__content::-webkit-scrollbar {
        display: none;
    }
    
    /* Firefox Scrollbar ausblenden */
    .kanban__grid-wrapper,
    .kanban__column,
    .overlay__content {
        scrollbar-width: none;
    }

    /* Subtitle Styling */
    .kanban__subtitle {
        font-size: 18px;
        height: 32px; /* Etwas mehr Höhe für bessere Lesbarkeit */
        width: 100%;
        max-width: 95vw; /* Volle Breite */
        /* margin-bottom: 8px; */
        flex-shrink: 0; /* Verhindert Schrumpfen */
        position: static;   /* statt sticky */
        top: auto;
        z-index: auto;
    }

    /* Card Styling für mobile Ansicht */
    .card {
        min-width: 180px; /* Minimale Breite für Cards */
        max-width: 200px; /* Maximale Breite begrenzen */
        flex-shrink: 0; /* Verhindert Schrumpfen der Cards */
        margin-bottom: 0; /* Kein Bottom-Margin da horizontal */
        display: flex;
        flex-direction: column;
    }

    /* Card Content Optimierungen */
    .card__content {
        gap: 8px;
        display: flex;
        flex-direction: column;
        flex: 1;          /* nimmt die volle Höhe ein */
        min-height: 0;    
    }

    .card__upanddown-icon {
        display: flex;
    }

    .card__burger-menu {
       width: 160px !important
    }

    .burger-item::before {
        content: "•";
        margin-right: 2px;
        color: #CDCDCD;;
        font-size: 16px;
        display: inline-block;
        transform: translateY(-1px); /* optional: vertikale Feinjustierung */
    }
      

    /* Subtasks wieder horizontal für mobile */
    .card__subtasks {
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
    }

    .card__header {
        display: flex;
        flex-direction: column;
        gap: 4px;
        flex: 1;          /* Header kann wachsen */
        min-height: 0;    /* sonst verhindert er Schrumpfen der Description */
}

    .card__header--title {
        width: 100%;
        font-size: 16px;
        white-space: nowrap;         
        overflow: hidden;            
        text-overflow: ellipsis; 
        margin-bottom: 2px; /* Abstand zur Description */    
    }

    .card__header--description {
         display: -webkit-box;
         flex: 1;
         min-height: 0;
        -webkit-line-clamp: 2;          /* Maximal 2 Zeilen */
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
        font-size: 14px;
    }

    /* Footer wieder horizontal */
    .card__footer {
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        gap: 8px;
    }

    /* Header Anpassungen für mobile */
    .kanban__header {
        padding: 0 12px;
        height: auto;
    }


    /* Tools Container für mobile optimieren */
    .kanban__tools {
        flex-direction: row;
        width: 100%;
        gap: 24px;
        align-items: center;  
    }

    /* Search Wrapper auf volle Breite */
    .kanban__search-wrapper {
        width: 100%;
        max-width: none;
    }

    .kanban__search-input {
        flex: 1;
        max-width: none;
    }

  
    /* Empty Column Template für mobile */
    .card--notasks {
        max-width: 200px;
        flex-shrink: 0;
    }

    .overlay__content {
        border-radius: 0;
        position: fixed;
        inset: 0;                  /* top:0; right:0; bottom:0; left:0 */
        width: 100%;
        height: 100vh;
        max-height: none;
        padding: 40px; 
        display: flex;
        flex-direction: column;
        overflow-x: hidden;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
  }

    .overlay__badgeframe span, 
    .overlay__action--activate span {
        font-size: 24px;
    }

    .overlay__badgeframe {
        margin-bottom: 32px;;
    }

    .overlay__close--button {
    width: 44px;
    height: 44px;
    }
    
      /* Eltern-Container der Action-Leiste füllt die Höhe und schneidet nicht ab */
    .overlay__story,
    .overlay__edit {
        flex: 1;
        min-height: 100%;
        display: flex;
        flex-direction: column;
        gap: 32px !important;
        overflow: visible;         /* wichtig für sticky-Kind */
        align-items: stretch;      /* keine Zentrierung, volle Breite */
    }

    .overlay__title {
        display: -webkit-box;    
        -webkit-line-clamp: 1;          /* Maximal 2 Zeilen */
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
}

    .overlay__description {
        font-size: 24px;
        line-height: 24px;
        display: -webkit-box;    
        -webkit-line-clamp: 3;          /* Maximal 2 Zeilen */
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
        margin-Bottom: 40px;
        line-height: 120%; 
    }

    .overlay__assigned {
        margin: 16px 0;
        line-height: 120%;
    } 

    .overlay__subtasks {
       margin-bottom: 16px; 
       line-height: 120%; 
    }

    .overlay__action--activate svg {
        width: 21px !important;
        height: 24px !important;
    }

    /* Aktionsleiste: wirklich ganz unten, ohne Shadow */
    .edit__action-buttons,
    .overlay__action {
        position: sticky;
        bottom: calc(-1 * var(--ov-pad));   
        z-index: 2;
        margin-top: auto;
    }
   
    .overlay__edit--selections {
        gap: 24px;
    }

    .overlay__edit {
        height: auto;
        max-height: 100vh;
    }

    .overlay__edit--wrapper {
        max-height: none;
    }
}

@media (max-width: 440px) {
    .overlay__content {
        padding: 20px;
    }

    .edit__wrapper-priority {
        flex-direction: column;
        align-items: stretch;
    }

    .edit__icon-contact, .edit__icon-calendar, .edit__wrapper-subtask-icons {
        right: 4px
    }

}
<!DOCTYPE html>
<html lang="de">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Join-Board</title>

        <link rel="icon" href="../assets/img/icon/favicon.ico" type="image/x-icon" />
        <link rel="stylesheet" href="../css/header.css" />
        <link rel="stylesheet" href="../css/navbar.css" />
        <link rel="stylesheet" href="../css/board.css" />
        <link rel="stylesheet" href="../css/board_overlay.css" />
        <link rel="stylesheet" href="../css/board_edit.css" />
        <link rel="stylesheet" href="../css/board_media.css" />
        <link rel="stylesheet" href="../css/fonts.css" />
        <link rel="stylesheet" href="../css/add_task.css">
        <link rel="stylesheet" href="../css/add_task_overlay.css">
        <link rel="stylesheet" href="../css/add_task_media.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
        
        <!-- <script src="../js/db.js" defer></script> -->
        <script src="../js/add_task_data_utils.js" defer></script>
        <script src="../js/add_task_form_utils.js" defer></script>
        <script src="../js/add_task_templates.js" defer></script>
        <script src="../js/add_task.js" defer></script>
        <script src="../js/header.js" defer></script>
        <script src="../js/board.js" defer></script>
        <script src="../js/board_templates.js" defer></script>
        <script src="../script.js" defer></script>
        <script src="https://cdn.jsdelivr.net/npm/flatpickr" defer></script>
        <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/de.js" defer></script>

    </head>

    <body onload="boardInit()">
        <div class="board-page">
            <div class="board-page__card">

                <!-- Navigation -->
                <nav class="sidebar" aria-label="Main Navigation">

                    <!-- Logo -->
                    <div class="sidebar__logo">
                        <a href="/html/summary.html">
                            <img class="sidebar__logo-image" src="../assets/img/logo/join_2.svg" alt="Join Logo">
                        </a>
                    </div>

                    <!-- Page Links -->
                    <section class="sidebar__menu">
                        <a href="/html/summary.html" class="sidebar__item">
                            <img class="sidebar__icon" src="../assets/img/icon/summary.svg" alt="" aria-hidden="true">
                            <span class="sidebar__text">Summary</span>
                        </a>
                        <a href="/html/add_task.html" class="sidebar__item">
                            <img class="sidebar__icon" src="../assets/img/icon/add_task.svg" alt="" aria-hidden="true">
                            <span class="sidebar__text">Add Task</span>
                        </a>
                        <a href="/html/board.html" class="sidebar__item">
                            <img class="sidebar__icon" src="../assets/img/icon/board.svg" alt="" aria-hidden="true">
                            <span class="sidebar__text">Board</span>
                        </a>
                        <a href="/html/contacts.html" class="sidebar__item">
                            <img class="sidebar__icon" src="../assets/img/icon/contacts.svg" alt="" aria-hidden="true">
                            <span class="sidebar__text">Contacts</span>
                        </a>
                    </section>

                    <!-- Legal Links -->
                    <section class="sidebar__legal">
                        <a href="/html/privacy_policy.html" class="sidebar__text">Privacy Policy</a>
                        <a href="/html/legal_notice.html" class="sidebar__text">Legal Notice</a>
                    </section>
                </nav>

                <div class="kanban">
                    <!-- Header -->
                    <header class="header">
                        <div class="header__title">Kanban Project Management Tool</div>
                        <a href="/html/summary.html"><img class="header__logo d_none" src="../assets/img/logo/join_1.svg" alt="Join Logo Header"></a>
                        <div class="header__container">
                            <a class="header__help" href="/html/help.html">?</a>
                            <div class="header__user" id="header__user" onclick="toggleUserMenu()"></div>
                        </div>
                        <div class="header__burger-menu" id="burger-menu">
                            <a href="../html/help.html">Help</a>
                            <a href="../html/legal_notice.html">Legal notice</a>            
                            <a href="../html/privacy_policy.html">Privacy policy</a>
                            <a onclick="logOut()">Log out</a>
                        </div>
                    </header>

                    <div class="kanban__header">
                        <div class="kanban__headline">
                            <span class="kanban__title">Board</span>
                            
                            <div class="kanban__tools">
                                <div class="kanban__search-wrapper">
                                    <input type="text" class="kanban__search-input" placeholder="Find Task" id="search-task">
                                    <div class="kanban__search-icon-group">
                                        <div class="kanban__search-separator"></div>
                                        <div class="kanban__search-icon-frame">
                                            <img src="../assets/img/icon/search.svg" alt="Search" class="kanban__search-icon" onclick="searchTask()">
                                        </div>
                                    </div>
                                    <span class="no-result" id="no-results">* kein Suchergebnis vorhanden!</span> 
                                </div>
                                <button class="kanban__add-button" onclick="showTaskOverlay('to-do')">
                                    <span class="kanban__add-text">Add Task</span>
                                    <img src="../assets/img/icon/add_plus.svg" alt="Add Task" class="kanban__add-icon">    
                                </button>
                            </div>
                        </div>
                        
                    </div>

                    <div class="kanban__grid-wrapper"> <!-- flex-grow-Container -->
                        
                       
                        <div class="kanban__section">
                            <div class="kanban__subtitle">
                            <span class="kanban__subtitle-text">To do</span>
                            <span class="kanban__subtitle-plus" onclick="showTaskOverlay('to-do')"></span>
                            </div>
                            <div class="kanban__column" id="to-do" ondrop="moveTo('to-do')" ondragover="allowDrop(event)"></div>
                        </div>

                        <div class="kanban__section">
                            <div class="kanban__subtitle">
                            <span class="kanban__subtitle-text">In progress</span>
                            <span class="kanban__subtitle-plus" onclick="showTaskOverlay('in-progress')"></span>
                            </div>
                            <div class="kanban__column" id="in-progress" ondrop="moveTo('in-progress')" ondragover="allowDrop(event)"></div>
                        </div>

                        <div class="kanban__section">
                            <div class="kanban__subtitle">
                            <span class="kanban__subtitle-text">Await feedback</span>
                            <span class="kanban__subtitle-plus" onclick="showTaskOverlay('await-feedback')"></span>
                            </div>
                            <div class="kanban__column" id="await-feedback" ondrop="moveTo('await-feedback')" ondragover="allowDrop(event)"></div>
                        </div>

                        <div class="kanban__section">
                            <div class="kanban__subtitle">
                            <span class="kanban__subtitle-text">Done</span>
                            </div>
                            <div class="kanban__column" id="done" ondrop="moveTo('done')" ondragover="allowDrop(event)"></div>
                        </div>

                    </div>
                    
                </div>
            </div>
        </div>

        <div class="overlay" id="overlay">
            <div class="overlay__content">
                <div class="overlay__story d-none" id="story">
                </div>  
                
                <div class="overlay__edit d-none" id="edit">               
                </div>
            </div>
        </div>

        <!-- Task Overlay -->
        <div class="task__overlay" id="task__overlay"></div>
    </body>
</html>

